"use strict";(self.webpackChunkcloneyoutu=self.webpackChunkcloneyoutu||[]).push([[870],{7870:function(n,e,t){t.r(e);var i=t(9439),o=t(5067),a=t(8870),r=t(9250),c=t(2791),s=t(6579),l=t(4061),d=t(1847),u=t(3214),h=t(9476),p=t(3309),v=t(184);e.default=function(){var n=(0,c.useState)(!1),e=(0,i.Z)(n,2),t=e[0],f=e[1],x=(0,s.T)(),m=(0,s.C)((function(n){return n.mainApp.searchTerm})),g=t?"70px":"250px",I=(0,u.Q)(),j=I.data,Z=I.nextPageToken;(0,c.useEffect)((function(){x((0,p.oV)(void 0))}),[m,x]);return(0,v.jsx)(v.Fragment,{children:j&&(0,v.jsxs)(a.Z,{sx:r.yS,children:[(0,v.jsx)(o.M,{handleSideToggle:function(){f(!t)}}),(0,v.jsxs)(a.Z,{component:"main",sx:l.V,children:[(0,v.jsx)(a.Z,{component:"div",sx:{flexBasis:g,flexGrow:0,flexShrink:0,overflowY:"auto"},children:(0,v.jsx)(d.P,{})}),(0,v.jsx)(h.V,{videos:j,nextPageToken:Z,sideOpen:g})]})]})})}},3214:function(n,e,t){t.d(e,{Q:function(){return u},_:function(){return d}});var i=t(3433),o=t(6579),a=function(n){var e=n.replace("PT","").replace("H",":").replace("M",":").replace("S","").split(":");return 3===e.length?"".concat(e[0],":").concat(parseInt(e[1])<9?"0".concat(e[1]):e[1],":").concat(parseInt(e[2])<9?"0".concat(e[2]):e[2]):2===e.length?"".concat(e[0],":").concat(parseInt(e[1])<9?"0".concat(e[1]):e[1]):1===e.length?"0:".concat(parseInt(e[0])<9?"0".concat(e[0]):e[0]):""},r=function(n){var e=Math.floor(((new Date).valueOf()-n.valueOf())/1e3),t=e/31536e3;return t>1?Math.floor(t)+" years":(t=e/2592e3)>1?Math.floor(t)+" months":(t=e/86400)>1?Math.floor(t)+" days":(t=e/3600)>1?Math.floor(t)+" hours":(t=e/60)>1?Math.floor(t)+" minutes":Math.floor(e)+" seconds"},c=t(2791),s=function(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=+n;return t>=1e9?t.toFixed(0)+"B":t>=1e6?t.toFixed(0)+"M":t>=1e3?t.toFixed(e?2:0)+"K":n},l=t(1502),d=function(n){var e,t=(0,l.Zc)(n).data,i=null===t||void 0===t||null===(e=t.snippet)||void 0===e?void 0:e.channelId,o=(0,l.cW)(i,{skip:!i}).data;return(0,c.useMemo)((function(){return o&&t?function(n,e){var t=e.snippet.thumbnails.default.url,i=e.statistics.subscriberCount;return{videoId:n.id,title:n.snippet.title,description:n.snippet.description,views:parseInt(n.statistics.viewCount).toLocaleString(),likes:s(n.statistics.likeCount),age:r(new Date(n.snippet.publishedAt)),channelInfo:{id:n.snippet.channelId,image:t,name:n.snippet.channelTitle,subscribers:s(i,!0)}}}(t,o):null}),[o,t])},u=function(){var n,e,t,s,d=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).ignoreSearch,u=(0,o.C)((function(n){return n.mainApp.searchTerm})),h=(0,o.C)((function(n){return n.mainApp.nextPageToken})),p=(0,c.useMemo)((function(){return{pageToken:h,searchTerm:u}}),[h,u]),v=(0,l.U0)(p,{skip:!d&&!u,refetchOnMountOrArgChange:!0}),f=null===(n=v.data)||void 0===n?void 0:n.nextPageToken,x=null===(e=v.data)||void 0===e?void 0:e.items,m=(0,c.useMemo)((function(){var n=[],e=[];return x?(null===x||void 0===x||x.forEach((function(t){e.push(t.snippet.channelId),n.push(t.id.videoId)})),{videoIds:n,channelIds:e}):{videoIds:n,channelIds:e}}),[x]),g=null===(t=(0,l.SW)(m.channelIds,{skip:0===m.channelIds.length}).data)||void 0===t?void 0:t.items,I=null===(s=(0,l.rr)(m.videoIds,{skip:0===m.videoIds.length}).data)||void 0===s?void 0:s.items,j=(0,c.useRef)([]),Z=(0,c.useMemo)((function(){if(x&&g&&m&&I){var n=function(n,e,t){try{var i={};e.forEach((function(n){i[n.id]=n.snippet.thumbnails.default.url}));var o=[];return n.forEach((function(n,e){var c=i[n.snippet.channelId];c&&o.push({videoId:n.id.videoId,title:n.snippet.title,description:n.snippet.description,thumbnail:n.snippet.thumbnails.medium.url,link:"https://www.youtube.com/watch?v=".concat(n.id.videoId),duration:t[e]&&a(t[e].contentDetails.duration),videoAge:r(new Date(n.snippet.publishedAt)),channelInfo:{id:n.snippet.channelId,image:c||"",name:n.snippet.channelTitle}})})),o}catch(c){console.log(c)}}(x,g,I);return j.current=h?[].concat((0,i.Z)(j.current),(0,i.Z)(n)):(0,i.Z)(n),{data:(0,i.Z)(j.current),nextPageToken:f}}return{nextPageToken:f,data:[]}}),[x,g,I,h,f,m]);return Z}},9476:function(n,e,t){t.d(e,{V:function(){return T}});var i=t(4771),o=t(8870),a=t(1889),r=t(3044),c=t(9276),s=t(7621),l=t(9504),d=t(2169),u=t(493),h=t(5021),p=t(653),v=t(9250),f=t(8820),x=t(890),m=t(2200),g={width:"100%",bgcolor:"background.paper",p:0,m:0,maxWidth:"100%"},I=t(1087),j=t(184),Z=function(n){var e=n.url,t=n.title,i=n.channelTitle,o=n.videoId,a=n.channelImage,Z=n.duration;return(0,j.jsxs)(s.Z,{sx:{boxShadow:0,position:"relative"},children:[(0,j.jsx)(c.Z,{sx:{position:"absolute",bgcolor:"black",color:"white",mt:28,ml:43},children:(0,j.jsx)(x.Z,{children:Z})}),(0,j.jsx)(I.rU,{to:"/watch/".concat(o),children:(0,j.jsx)(d.Z,{component:"img",height:"240",image:e,alt:t})}),(0,j.jsx)(l.Z,{sx:{m:0,p:0},children:(0,j.jsx)(u.Z,{sx:g,children:(0,j.jsxs)(h.ZP,{children:[(0,j.jsx)(p.Z,{children:(0,j.jsx)(r.Z,{alt:"Channel avatar",src:a})}),(0,j.jsxs)(c.Z,{sx:v.$F,children:[(0,j.jsx)(x.Z,{sx:{fontWeight:"bold",mb:1},gutterBottom:!0,variant:"h5",component:"div",children:(0,m.rd)(t)}),(0,j.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,j.jsx)(x.Z,{sx:{mr:1,mb:0,p:0},gutterBottom:!0,variant:"h5",component:"div",children:i}),(0,j.jsx)(f.mny,{})]})]})]})})})]})},w=function(n){var e=n.items;return(0,j.jsx)(o.Z,{children:(0,j.jsx)(a.ZP,{container:!0,rowSpacing:1,columnSpacing:{xs:2,sm:4},children:e.length&&e.map((function(n){var e=n.duration,t=n.videoId,i=n.thumbnail,o=n.title,r=n.channelInfo,c=r.image,s=r.name;return(0,j.jsx)(a.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,children:(0,j.jsx)(Z,{duration:e,url:i,title:o,channelTitle:s,videoId:t,channelImage:c})},n.videoId)}))})})},b=t(6579),k=t(3309),T=function(n){var e=n.videos,t=n.nextPageToken,a=n.sideOpen,r=(0,b.T)();return 0===e.length?(0,j.jsx)(o.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",width:"100%"},children:"no videos."}):(0,j.jsx)(o.Z,{component:"div",id:"scrollableDiv",sx:{flexGrow:1,p:1,overflowY:"auto",overflowX:"hidden",width:"calc(100vw - ".concat(a,")")},children:(0,j.jsx)(i.Z,{dataLength:e.length,next:function(){return r((0,k.oV)(t))},hasMore:e.length<500,loader:"Loading...",scrollableTarget:"scrollableDiv",height:900,children:(0,j.jsx)(w,{items:e})})})}},4061:function(n,e,t){t.d(e,{V:function(){return i}});var i={display:"flex",mt:8,width:"100vw",overflow:"hidden"}}}]);
//# sourceMappingURL=870.20187c34.chunk.js.map