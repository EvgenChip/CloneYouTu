{"version":3,"file":"static/js/870.20187c34.chunk.js","mappings":"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","sources":["Pages/SearchPage.tsx","utils/parseVideoDuration.ts","utils/timesVideo.ts","utils/convertRawViews.ts","api/hooks.ts","utils/parseDataVideoDetails.tsx","utils/parseData.ts","components/card/styles.tsx","components/card/Card.tsx","components/CardList/CardList.tsx","components/Content/index.tsx","components/contentArea/styles.tsx"],"sourcesContent":["import { NavMenu } from \"../components/navigation/NavMenu\";\nimport { Box } from \"@mui/material\";\nimport { appWrapper } from \"../styles/styles\";\nimport { useEffect, useState } from \"react\";\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\nimport { appContentWrapper } from \"../components/contentArea/styles\";\nimport { SideList } from \"../components/sideList/SideList\";\nimport { useAwesomeSearchVideo } from \"../api/hooks\";\nimport { Content } from \"../components/Content\";\nimport { setNextPageToken } from \"../store\";\n\nconst SearchPage = () => {\n  const [openSide, setOpenSide] = useState(false);\n  const dispatch = useAppDispatch();\n\n  const searchTerm = useAppSelector((state) => state.mainApp.searchTerm);\n  const sideOpen = openSide ? \"70px\" : \"250px\";\n\n  const { data: items, nextPageToken } = useAwesomeSearchVideo();\n\n  useEffect(() => {\n    dispatch(setNextPageToken(undefined));\n  }, [searchTerm, dispatch]);\n\n  const handleSideToogle = () => {\n    setOpenSide(!openSide);\n  };\n\n  return (\n    <>\n      {items && (\n        <Box sx={appWrapper}>\n          <NavMenu handleSideToggle={handleSideToogle} />\n          <Box component=\"main\" sx={appContentWrapper}>\n            <Box\n              component=\"div\"\n              sx={{\n                flexBasis: sideOpen,\n                flexGrow: 0,\n                flexShrink: 0,\n                overflowY: \"auto\",\n              }}>\n              <SideList />\n            </Box>\n            <Content\n              videos={items}\n              nextPageToken={nextPageToken}\n              sideOpen={sideOpen}\n            />\n          </Box>\n        </Box>\n      )}\n    </>\n  );\n};\n\nexport default SearchPage;","export const parseVideoDuration = (duration: string): string => {\n  const durationParts: string[] = duration\n    .replace(\"PT\", \"\")\n    .replace(\"H\", \":\")\n    .replace(\"M\", \":\")\n    .replace(\"S\", \"\")\n    .split(\":\");\n\n  if (durationParts.length === 3) {\n    return `${durationParts[0]}:${\n      parseInt(durationParts[1]) < 9 ? `0${durationParts[1]}` : durationParts[1]\n    }:${\n      parseInt(durationParts[2]) < 9 ? `0${durationParts[2]}` : durationParts[2]\n    }`;\n  }\n\n  if (durationParts.length === 2) {\n    return `${durationParts[0]}:${\n      parseInt(durationParts[1]) < 9 ? `0${durationParts[1]}` : durationParts[1]\n    }`;\n  }\n\n  if (durationParts.length === 1) {\n    return `0:${\n      parseInt(durationParts[0]) < 9 ? `0${durationParts[0]}` : durationParts[0]\n    }`;\n  }\n\n  return \"\";\n};\n","export const timesVideo = (date: Date) => {\n  const seconds = Math.floor((new Date().valueOf() - date.valueOf()) / 1000);\n\n  let interval = seconds / 31536000;\n\n  if (interval > 1) {\n    return Math.floor(interval) + \" years\";\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    return Math.floor(interval) + \" months\";\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    return Math.floor(interval) + \" days\";\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    return Math.floor(interval) + \" hours\";\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    return Math.floor(interval) + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n};\n","export const convertRawViews = (labelValue: string, isSub = false): string => {\n  const parsed = +labelValue;\n\n  if (parsed >= 1.0e9) {\n    return parsed.toFixed(0) + \"B\";\n  }\n  if (parsed >= 1.0e6) {\n    return parsed.toFixed(0) + \"M\";\n  }\n  if (parsed >= 1.0e3) {\n    return parsed.toFixed(isSub ? 2 : 0) + \"K\";\n  }\n\n  return labelValue;\n};\n","import { useAppSelector } from \"../store/hooks\";\nimport { parseData } from \"../utils/parseData\";\nimport { useMemo, useRef } from \"react\";\nimport { parseDataVideoDetails } from \"../utils/parseDataVideoDetails\";\nimport {\n  useGetVideoDetailsQuery,\n  useGetChannelDetailsQuery,\n  useGetSearchVideosQuery,\n  useGetChannelsDataQuery,\n  useGetContentDetailsQuery,\n} from \"./api\";\n\nexport const useAwesomeVideo = (id: string) => {\n  const { data: item } = useGetVideoDetailsQuery(id);\n\n  const channelId = item?.snippet?.channelId;\n  const { data: details } = useGetChannelDetailsQuery(channelId, {\n    skip: !channelId,\n  });\n\n  const res = useMemo(() => {\n    if (details && item) {\n      return parseDataVideoDetails(item, details);\n    }\n\n    return null;\n  }, [details, item]);\n\n  return res;\n};\n\nexport const useAwesomeSearchVideo = (\n  options: { ignoreSearch?: boolean } = {}\n) => {\n  const { ignoreSearch } = options;\n  const searchTerm = useAppSelector((state) => state.mainApp.searchTerm);\n  const pageToken = useAppSelector((state) => state.mainApp.nextPageToken);\n  const requestParams = useMemo(() => {\n    return { pageToken, searchTerm };\n  }, [pageToken, searchTerm]);\n\n  const searchRes = useGetSearchVideosQuery(requestParams, {\n    skip: !ignoreSearch && !searchTerm,\n    refetchOnMountOrArgChange: true,\n  });\n\n  const nextPageToken = searchRes.data?.nextPageToken;\n  const items = searchRes.data?.items;\n\n  const channelsAndVideosIds = useMemo(() => {\n    const videoIds: string[] = [];\n    const channelIds: string[] = [];\n\n    if (!items) {\n      return { videoIds, channelIds };\n    }\n\n    items?.forEach((item) => {\n      channelIds.push(item.snippet.channelId);\n      videoIds.push(item.id.videoId);\n    });\n\n    return { videoIds, channelIds };\n  }, [items]);\n\n  const channelsDataRes = useGetChannelsDataQuery(\n    channelsAndVideosIds.channelIds,\n    {\n      skip: channelsAndVideosIds.channelIds.length === 0,\n    }\n  );\n\n  const channelsData = channelsDataRes.data?.items;\n\n  const contentDetails = useGetContentDetailsQuery(\n    channelsAndVideosIds.videoIds,\n    {\n      skip: channelsAndVideosIds.videoIds.length === 0,\n    }\n  );\n  const videoData = contentDetails.data?.items;\n\n  const prevVideos = useRef<ReturnType<typeof parseData>>([]);\n  const transformSearchRes = useMemo(() => {\n    if (items && channelsData && channelsAndVideosIds && videoData) {\n      const data = parseData(items, channelsData, videoData);\n\n      if (pageToken) {\n        prevVideos.current = [...prevVideos.current, ...data];\n      } else {\n        prevVideos.current = [...data];\n      }\n\n      return {\n        data: [...prevVideos.current],\n        nextPageToken,\n      };\n    }\n\n    return {\n      nextPageToken,\n      data: [],\n    };\n  }, [\n    items,\n    channelsData,\n    videoData,\n    pageToken,\n    nextPageToken,\n    channelsAndVideosIds,\n  ]);\n\n  return transformSearchRes;\n};\n","import { VideosOrChannelsItem } from \"../Types\";\nimport { convertRawViews, timesVideo } from \"./\";\n\ntype DataItem = {\n  snippet: {\n    channelId: string;\n    title: string;\n    description: string;\n    publishedAt: Date;\n    channelTitle: string;\n  };\n  id: string;\n  statistics: { viewCount: string; likeCount: string };\n};\n\nexport const parseDataVideoDetails = (\n  item: DataItem,\n  detail: VideosOrChannelsItem\n) => {\n  const channelImage = detail.snippet.thumbnails.default.url;\n  const subscriberCount = detail.statistics.subscriberCount;\n\n  return {\n    videoId: item.id,\n    title: item.snippet.title,\n    description: item.snippet.description,\n    views: parseInt(item.statistics.viewCount).toLocaleString(),\n    likes: convertRawViews(item.statistics.likeCount),\n    age: timesVideo(new Date(item.snippet.publishedAt)),\n    channelInfo: {\n      id: item.snippet.channelId,\n      image: channelImage,\n      name: item.snippet.channelTitle,\n      subscribers: convertRawViews(subscriberCount, true),\n    },\n  };\n};\n","import { parseVideoDuration, timesVideo } from \"./index\";\nimport {\n  HomePageVideos,\n  SearchVideosItem,\n  VideosOrChannelsItem,\n} from \"../Types\";\n\nexport const parseData = (\n  items: SearchVideosItem[],\n  channelsData: VideosOrChannelsItem[],\n  videosData: VideosOrChannelsItem[]\n) => {\n  try {\n    const channelsMap: Record<string, string> = {};\n\n    channelsData.forEach((channel) => {\n      channelsMap[channel.id] = channel.snippet.thumbnails.default.url;\n    });\n\n    const parsedData: HomePageVideos[] = [];\n    items.forEach((item, index) => {\n      const channelImage = channelsMap[item.snippet.channelId];\n\n      if (channelImage)\n        parsedData.push({\n          videoId: item.id.videoId,\n          title: item.snippet.title,\n          description: item.snippet.description,\n          thumbnail: item.snippet.thumbnails.medium.url,\n          link: `https://www.youtube.com/watch?v=${item.id.videoId}`,\n          duration:\n            videosData[index] &&\n            parseVideoDuration(videosData[index].contentDetails.duration),\n          videoAge: timesVideo(new Date(item.snippet.publishedAt)),\n          channelInfo: {\n            id: item.snippet.channelId,\n            image: channelImage || \"\",\n            name: item.snippet.channelTitle,\n          },\n        });\n    });\n\n    return parsedData;\n  } catch (err) {\n    console.log(err);\n  }\n};\n","export const appCardList = {\n  width: \"100%\",\n  bgcolor: \"background.paper\",\n  p: 0,\n  m: 0,\n  maxWidth: \"100%\",\n};\n","import Avatar from \"@mui/material/Avatar\";\nimport Box from \"@mui/system/Box\";\nimport Card from \"@mui/material/Card\";\nimport CardContent from \"@mui/material/CardContent\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport List from \"@mui/material/List\";\nimport ListItem from \"@mui/material/ListItem\";\nimport ListItemAvatar from \"@mui/material/ListItemAvatar\";\nimport { flexColumnCenter } from \"../../styles/styles\";\nimport { FC } from \"react\";\nimport { AiFillCheckCircle } from \"react-icons/ai\";\nimport { Typography } from \"@mui/material\";\nimport { trimText } from \"../../data/data\";\nimport { appCardList } from \"./styles\";\nimport { Link } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\ntype Props = {\n  url: string;\n  title: string;\n  channelTitle: string;\n  videoId: string;\n  channelImage: string;\n  duration: string;\n};\n\nexport const AppCard: FC<Props> = ({\n  url,\n  title,\n  channelTitle,\n  videoId,\n  channelImage,\n  duration,\n}) => {\n  return (\n    <Card sx={{ boxShadow: 0, position: \"relative\" }}>\n      <Box\n        sx={{\n          position: \"absolute\",\n          bgcolor: \"black\",\n          color: \"white\",\n          mt: 28,\n          ml: 43,\n        }}>\n        <Typography>{duration}</Typography>\n      </Box>\n      <Link to={`/watch/${videoId}`}>\n        <CardMedia component=\"img\" height=\"240\" image={url} alt={title} />\n      </Link>\n      <CardContent sx={{ m: 0, p: 0 }}>\n        <List sx={appCardList}>\n          <ListItem>\n            <ListItemAvatar>\n              <Avatar alt=\"Channel avatar\" src={channelImage} />\n            </ListItemAvatar>\n            <Box sx={flexColumnCenter}>\n              <Typography\n                sx={{ fontWeight: \"bold\", mb: 1 }}\n                gutterBottom\n                variant=\"h5\"\n                component=\"div\">\n                {trimText(title)}\n              </Typography>\n              <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n                <Typography\n                  sx={{ mr: 1, mb: 0, p: 0 }}\n                  gutterBottom\n                  variant=\"h5\"\n                  component=\"div\">\n                  {channelTitle}\n                </Typography>\n                <AiFillCheckCircle />\n              </Box>\n            </Box>\n          </ListItem>\n        </List>\n      </CardContent>\n    </Card>\n  );\n};\n\nAppCard.propTypes = {\n  url: PropTypes.string,\n  title: PropTypes.string,\n  channelTitle: PropTypes.string,\n  videoId: PropTypes.string,\n  channelImage: PropTypes.string,\n  duration: PropTypes.string,\n};","import { FC } from \"react\";\nimport { Box, Grid } from \"@mui/material\";\nimport { AppCard } from \"../card/Card\";\nimport { useAwesomeSearchVideo } from \"../../api/hooks\";\n\ntype Props = {\n  items: ReturnType<typeof useAwesomeSearchVideo>[\"data\"];\n};\n\nexport const CardList: FC<Props> = ({ items }) => {\n  return (\n    <Box>\n      <Grid container rowSpacing={1} columnSpacing={{ xs: 2, sm: 4 }}>\n        {items.length &&\n          items.map((item) => {\n            const { duration, videoId, thumbnail, title, channelInfo } = item;\n            const { image: channelImage, name: channelTitle } = channelInfo;\n\n            return (\n              <Grid key={item.videoId} item xs={12} sm={6} md={4} lg={3}>\n                <AppCard\n                  duration={duration}\n                  url={thumbnail}\n                  title={title}\n                  channelTitle={channelTitle}\n                  videoId={videoId}\n                  channelImage={channelImage}\n                />\n              </Grid>\n            );\n          })}\n      </Grid>\n    </Box>\n  );\n};\n","import InfiniteScroll from \"react-infinite-scroll-component\";\nimport { CardList } from \"../CardList/CardList\";\nimport { Box } from \"@mui/material\";\nimport { useAppDispatch } from \"../../store/hooks\";\nimport { setNextPageToken } from \"../../store\";\nimport { useAwesomeSearchVideo } from \"../../api/hooks\";\n\ntype ContentProps = {\n  videos: ReturnType<typeof useAwesomeSearchVideo>[\"data\"];\n  nextPageToken: string;\n  sideOpen: string;\n};\n\nexport const Content: React.FC<ContentProps> = ({\n  videos,\n  nextPageToken,\n  sideOpen,\n}) => {\n  const dispatch = useAppDispatch();\n  if (videos.length === 0) {\n    return (\n      <Box\n        sx={{\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          width: \"100%\",\n        }}>\n        no videos.\n      </Box>\n    );\n  }\n\n  return (\n    <Box\n      component=\"div\"\n      id=\"scrollableDiv\"\n      sx={{\n        flexGrow: 1,\n        p: 1,\n        overflowY: \"auto\",\n        overflowX: \"hidden\",\n        width: `calc(100vw - ${sideOpen})`,\n      }}>\n      <InfiniteScroll\n        dataLength={videos.length}\n        next={() => dispatch(setNextPageToken(nextPageToken))}\n        hasMore={videos.length < 500}\n        loader={\"Loading...\"}\n        scrollableTarget=\"scrollableDiv\"\n        height={900}>\n        <CardList items={videos} />\n      </InfiniteScroll>\n    </Box>\n  );\n};\n","export const appContentWrapper = {\n  display: \"flex\",\n  mt: 8,\n  width: \"100vw\",\n  overflow: \"hidden\",\n};\n"],"names":["_useState","useState","_useState2","_slicedToArray","openSide","setOpenSide","dispatch","useAppDispatch","searchTerm","useAppSelector","state","mainApp","sideOpen","_useAwesomeSearchVide","useAwesomeSearchVideo","items","data","nextPageToken","useEffect","setNextPageToken","undefined","_jsx","_Fragment","children","_jsxs","Box","sx","appWrapper","NavMenu","handleSideToggle","component","appContentWrapper","flexBasis","flexGrow","flexShrink","overflowY","SideList","Content","videos","parseVideoDuration","duration","durationParts","replace","split","length","concat","parseInt","timesVideo","date","seconds","Math","floor","Date","valueOf","interval","convertRawViews","labelValue","isSub","arguments","parsed","toFixed","useAwesomeVideo","id","_item$snippet","item","useGetVideoDetailsQuery","channelId","snippet","details","useGetChannelDetailsQuery","skip","useMemo","detail","channelImage","thumbnails","default","url","subscriberCount","statistics","videoId","title","description","views","viewCount","toLocaleString","likes","likeCount","age","publishedAt","channelInfo","image","name","channelTitle","subscribers","parseDataVideoDetails","_searchRes$data","_searchRes$data2","_channelsDataRes$data","_contentDetails$data","ignoreSearch","pageToken","requestParams","searchRes","useGetSearchVideosQuery","refetchOnMountOrArgChange","channelsAndVideosIds","videoIds","channelIds","forEach","push","channelsData","useGetChannelsDataQuery","videoData","useGetContentDetailsQuery","prevVideos","useRef","transformSearchRes","videosData","channelsMap","channel","parsedData","index","thumbnail","medium","link","contentDetails","videoAge","err","console","log","parseData","current","_toConsumableArray","appCardList","width","bgcolor","p","m","maxWidth","AppCard","_ref","Card","boxShadow","position","color","mt","ml","Typography","Link","to","CardMedia","height","alt","CardContent","List","ListItem","ListItemAvatar","Avatar","src","flexColumnCenter","fontWeight","mb","gutterBottom","variant","trimText","display","alignItems","mr","AiFillCheckCircle","CardList","Grid","container","rowSpacing","columnSpacing","xs","sm","map","md","lg","justifyContent","overflowX","InfiniteScroll","dataLength","next","hasMore","loader","scrollableTarget","overflow"],"sourceRoot":""}