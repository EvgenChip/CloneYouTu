{"version":3,"file":"static/js/186.6438d585.chunk.js","mappings":"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","sources":["Pages/WatchPage.tsx","utils/parseVideoDuration.ts","utils/timesVideo.ts","utils/convertRawViews.ts","api/hooks.ts","utils/parseDataVideoDetails.tsx","utils/parseData.ts"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\n\nimport { useAppDispatch, useAppSelector } from \"../store/hooks\";\nimport { BiLike, BiDislike } from \"react-icons/bi\";\nimport { HiScissors } from \"react-icons/hi\";\nimport { MdOutlinePlaylistAdd } from \"react-icons/md\";\nimport { FaShare } from \"react-icons/fa\";\nimport { BsThreeDots } from \"react-icons/bs\";\nimport { NavMenu } from \"../components/navigation/NavMenu\";\nimport { useAwesomeVideo } from \"../api/hooks\";\nimport { useAuth } from \"../store/auth/useAuth\";\nimport classNames from \"classnames\";\nimport { toggleFavorites } from \"../store/favorites/actions/favorite.actions\";\nimport { SideList } from \"../components/sideList/SideList\";\n\nconst WatchPage = () => {\n  const { id } = useParams();\n  const dispatch = useAppDispatch();\n  const navigate = useNavigate();\n\n  const favoriteFlag = useAppSelector((state) =>\n    state.favorites.favorites.map((el) => el.id).includes(id)\n  );\n\n  const [showMoreStatus, setShowMoreStatus] = useState<boolean>(false);\n\n  const { isAuth } = useAuth();\n\n  const favoriteButtonTitle = favoriteFlag\n    ? \"Убрать из избранного\"\n    : \"Добавить в избранное\";\n\n  const currentPlaying = useAwesomeVideo(id);\n\n  const favoritesInfo = currentPlaying\n    ? {\n        id: currentPlaying.videoId,\n        title: currentPlaying.title,\n        description: currentPlaying.description,\n      }\n    : {};\n\n  useEffect(() => {\n    if (id) {\n      setShowMoreStatus(false);\n    } else {\n      navigate(\"/\");\n    }\n  }, [id, navigate, dispatch]);\n\n  const handleFavoritesClick = () => {\n    if (isAuth) {\n      dispatch(toggleFavorites(favoritesInfo));\n    } else {\n      navigate(\"/\");\n    }\n  };\n  return (\n    <>\n      {currentPlaying && (\n        <div className=\"max-h-screen overflow-hidden\">\n          <div style={{ height: \"7.5vh\" }}>\n            <NavMenu />\n          </div>\n\n          <div className=\"flex w-full\" style={{ height: \"92.5vh\" }}>\n            <div>\n              <SideList />\n            </div>\n            <div className=\"flex gap-y-10 gap-x-5 p-7 mx-20 mr-0 w-full overflow-auto\">\n              <div style={{ maxWidth: \"800px\" }}>\n                <div>\n                  <iframe\n                    width=\"800\"\n                    height=\"502\"\n                    src={`https://www.youtube.com/embed/${id}?autoplay=1`}\n                    title=\"YouTube video player\"\n                    frameBorder=\"0\"\n                    allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n                    allowFullScreen></iframe>\n                  <div className=\"mt-5\">\n                    <p className=\"text-xl\">{currentPlaying.title}</p>\n                    <div className=\"flex justify-between mt-1\">\n                      <div className=\"text-sm text-gray-400\">\n                        <span className=\"after:content-['•'] after:mx-1\">\n                          {currentPlaying.views} views\n                        </span>\n                        <span> {currentPlaying.age} ago</span>\n                      </div>\n                      <div className=\"flex items-center gap-4 uppercase\">\n                        <div className=\"flex items-center gap-1 cursor-pointer\">\n                          <BiLike className=\"text-xl\" />\n                          <strong>{currentPlaying.likes}</strong>\n                        </div>\n                        <div className=\"flex items-center gap-1 cursor-pointer\">\n                          <BiDislike className=\"text-xl\" />\n                          <strong>dislike</strong>\n                        </div>\n                        <div className=\"flex items-center gap-1 cursor-pointer\">\n                          <FaShare className=\"text-xl\" />\n                          <strong>share</strong>\n                        </div>\n                        <div className=\"flex items-center gap-1 cursor-pointer\">\n                          <HiScissors className=\"text-xl\" />\n                          <strong>clip</strong>\n                        </div>\n                        <div className=\"flex items-center gap-1 cursor-pointer\">\n                          <MdOutlinePlaylistAdd className=\"text-xl\" />\n                          <strong>save</strong>\n                        </div>\n                        <div className=\"flex items-center gap-1 cursor-pointer\">\n                          <BsThreeDots className=\"text-xl\" />\n                        </div>\n                      </div>\n                    </div>\n                    <div className=\"flex gap-4 flex-col border-solid border-gray-400 border-2 my-5 pb-3 border-l-transparent border-r-transparent\">\n                      <div className=\"flex items-center gap-5 mr-5 mt-4\">\n                        <div>\n                          <img\n                            src={currentPlaying.channelInfo.image}\n                            alt=\"\"\n                            className=\"rounded-full h-12 w-12\"\n                          />\n                        </div>\n                        <div className=\"w-5/6\">\n                          <h5 className=\"text-sm\">\n                            <strong>{currentPlaying.channelInfo.name}</strong>\n                          </h5>\n                          <h6 className=\"text-gray-400 text-xs\">\n                            {currentPlaying.channelInfo.subscribers} subscribers\n                          </h6>\n                        </div>\n                        <div>\n                          <button\n                            onClick={handleFavoritesClick}\n                            className={classNames(\n                              \"uppercase\",\n                              {\n                                \"bg-red-600\": favoriteFlag,\n                                \"bg-green-600\": !favoriteFlag,\n                              },\n                              \"rounded-sm p-2 text-sm tracking-wider\"\n                            )}>\n                            {favoriteButtonTitle}\n                          </button>\n                        </div>\n                      </div>\n                      <div\n                        className={`${\n                          !showMoreStatus ? \"max-h-16 overflow-hidden\" : \"\"\n                        } text-sm w-11/12`}>\n                        <pre\n                          style={{\n                            fontFamily: `\"Roboto\", sans-serif`,\n                          }}\n                          className=\"whitespace-pre-wrap\">\n                          {currentPlaying.description}\n                        </pre>\n                      </div>\n                      <div>\n                        <button\n                          className=\"uppercase text-sm cursor-pointer\"\n                          onClick={() => setShowMoreStatus(!showMoreStatus)}>\n                          Show {showMoreStatus ? \"less\" : \"more\"}\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  );\n};\n\nexport default WatchPage;","export const parseVideoDuration = (duration: string): string => {\n  const durationParts: string[] = duration\n    .replace(\"PT\", \"\")\n    .replace(\"H\", \":\")\n    .replace(\"M\", \":\")\n    .replace(\"S\", \"\")\n    .split(\":\");\n\n  if (durationParts.length === 3) {\n    return `${durationParts[0]}:${\n      parseInt(durationParts[1]) < 9 ? `0${durationParts[1]}` : durationParts[1]\n    }:${\n      parseInt(durationParts[2]) < 9 ? `0${durationParts[2]}` : durationParts[2]\n    }`;\n  }\n\n  if (durationParts.length === 2) {\n    return `${durationParts[0]}:${\n      parseInt(durationParts[1]) < 9 ? `0${durationParts[1]}` : durationParts[1]\n    }`;\n  }\n\n  if (durationParts.length === 1) {\n    return `0:${\n      parseInt(durationParts[0]) < 9 ? `0${durationParts[0]}` : durationParts[0]\n    }`;\n  }\n\n  return \"\";\n};\n","export const timesVideo = (date: Date) => {\n  const seconds = Math.floor((new Date().valueOf() - date.valueOf()) / 1000);\n\n  let interval = seconds / 31536000;\n\n  if (interval > 1) {\n    return Math.floor(interval) + \" years\";\n  }\n  interval = seconds / 2592000;\n  if (interval > 1) {\n    return Math.floor(interval) + \" months\";\n  }\n  interval = seconds / 86400;\n  if (interval > 1) {\n    return Math.floor(interval) + \" days\";\n  }\n  interval = seconds / 3600;\n  if (interval > 1) {\n    return Math.floor(interval) + \" hours\";\n  }\n  interval = seconds / 60;\n  if (interval > 1) {\n    return Math.floor(interval) + \" minutes\";\n  }\n  return Math.floor(seconds) + \" seconds\";\n};\n","export const convertRawViews = (labelValue: string, isSub = false): string => {\n  const parsed = +labelValue;\n\n  if (parsed >= 1.0e9) {\n    return parsed.toFixed(0) + \"B\";\n  }\n  if (parsed >= 1.0e6) {\n    return parsed.toFixed(0) + \"M\";\n  }\n  if (parsed >= 1.0e3) {\n    return parsed.toFixed(isSub ? 2 : 0) + \"K\";\n  }\n\n  return labelValue;\n};\n","import { useAppSelector } from \"../store/hooks\";\nimport { parseData } from \"../utils/parseData\";\nimport { useMemo, useRef } from \"react\";\nimport { parseDataVideoDetails } from \"../utils/parseDataVideoDetails\";\nimport {\n  useGetVideoDetailsQuery,\n  useGetChannelDetailsQuery,\n  useGetSearchVideosQuery,\n  useGetChannelsDataQuery,\n  useGetContentDetailsQuery,\n} from \"./api\";\n\nexport const useAwesomeVideo = (id: string) => {\n  const { data: item } = useGetVideoDetailsQuery(id);\n\n  const channelId = item?.snippet?.channelId;\n  const { data: details } = useGetChannelDetailsQuery(channelId, {\n    skip: !channelId,\n  });\n\n  const res = useMemo(() => {\n    if (details && item) {\n      return parseDataVideoDetails(item, details);\n    }\n\n    return null;\n  }, [details, item]);\n\n  return res;\n};\n\nexport const useAwesomeSearchVideo = (\n  options: { ignoreSearch?: boolean } = {}\n) => {\n  const { ignoreSearch } = options;\n  const searchTerm = useAppSelector((state) => state.mainApp.searchTerm);\n  const pageToken = useAppSelector((state) => state.mainApp.nextPageToken);\n  const requestParams = useMemo(() => {\n    return { pageToken, searchTerm };\n  }, [pageToken, searchTerm]);\n\n  const searchRes = useGetSearchVideosQuery(requestParams, {\n    skip: !ignoreSearch && !searchTerm,\n    refetchOnMountOrArgChange: true,\n  });\n\n  const nextPageToken = searchRes.data?.nextPageToken;\n  const items = searchRes.data?.items;\n\n  const channelsAndVideosIds = useMemo(() => {\n    const videoIds: string[] = [];\n    const channelIds: string[] = [];\n\n    if (!items) {\n      return { videoIds, channelIds };\n    }\n\n    items?.forEach((item) => {\n      channelIds.push(item.snippet.channelId);\n      videoIds.push(item.id.videoId);\n    });\n\n    return { videoIds, channelIds };\n  }, [items]);\n\n  const channelsDataRes = useGetChannelsDataQuery(\n    channelsAndVideosIds.channelIds,\n    {\n      skip: channelsAndVideosIds.channelIds.length === 0,\n    }\n  );\n\n  const channelsData = channelsDataRes.data?.items;\n\n  const contentDetails = useGetContentDetailsQuery(\n    channelsAndVideosIds.videoIds,\n    {\n      skip: channelsAndVideosIds.videoIds.length === 0,\n    }\n  );\n  const videoData = contentDetails.data?.items;\n\n  const prevVideos = useRef<ReturnType<typeof parseData>>([]);\n  const transformSearchRes = useMemo(() => {\n    if (items && channelsData && channelsAndVideosIds && videoData) {\n      const data = parseData(items, channelsData, videoData);\n\n      if (pageToken) {\n        prevVideos.current = [...prevVideos.current, ...data];\n      } else {\n        prevVideos.current = [...data];\n      }\n\n      return {\n        data: [...prevVideos.current],\n        nextPageToken,\n      };\n    }\n\n    return {\n      nextPageToken,\n      data: [],\n    };\n  }, [\n    items,\n    channelsData,\n    videoData,\n    pageToken,\n    nextPageToken,\n    channelsAndVideosIds,\n  ]);\n\n  return transformSearchRes;\n};\n","import { VideosOrChannelsItem } from \"../Types\";\nimport { convertRawViews, timesVideo } from \"./\";\n\ntype DataItem = {\n  snippet: {\n    channelId: string;\n    title: string;\n    description: string;\n    publishedAt: Date;\n    channelTitle: string;\n  };\n  id: string;\n  statistics: { viewCount: string; likeCount: string };\n};\n\nexport const parseDataVideoDetails = (\n  item: DataItem,\n  detail: VideosOrChannelsItem\n) => {\n  const channelImage = detail.snippet.thumbnails.default.url;\n  const subscriberCount = detail.statistics.subscriberCount;\n\n  return {\n    videoId: item.id,\n    title: item.snippet.title,\n    description: item.snippet.description,\n    views: parseInt(item.statistics.viewCount).toLocaleString(),\n    likes: convertRawViews(item.statistics.likeCount),\n    age: timesVideo(new Date(item.snippet.publishedAt)),\n    channelInfo: {\n      id: item.snippet.channelId,\n      image: channelImage,\n      name: item.snippet.channelTitle,\n      subscribers: convertRawViews(subscriberCount, true),\n    },\n  };\n};\n","import { parseVideoDuration, timesVideo } from \"./index\";\nimport {\n  HomePageVideos,\n  SearchVideosItem,\n  VideosOrChannelsItem,\n} from \"../Types\";\n\nexport const parseData = (\n  items: SearchVideosItem[],\n  channelsData: VideosOrChannelsItem[],\n  videosData: VideosOrChannelsItem[]\n) => {\n  try {\n    const channelsMap: Record<string, string> = {};\n\n    channelsData.forEach((channel) => {\n      channelsMap[channel.id] = channel.snippet.thumbnails.default.url;\n    });\n\n    const parsedData: HomePageVideos[] = [];\n    items.forEach((item, index) => {\n      const channelImage = channelsMap[item.snippet.channelId];\n\n      if (channelImage)\n        parsedData.push({\n          videoId: item.id.videoId,\n          title: item.snippet.title,\n          description: item.snippet.description,\n          thumbnail: item.snippet.thumbnails.medium.url,\n          link: `https://www.youtube.com/watch?v=${item.id.videoId}`,\n          duration:\n            videosData[index] &&\n            parseVideoDuration(videosData[index].contentDetails.duration),\n          videoAge: timesVideo(new Date(item.snippet.publishedAt)),\n          channelInfo: {\n            id: item.snippet.channelId,\n            image: channelImage || \"\",\n            name: item.snippet.channelTitle,\n          },\n        });\n    });\n\n    return parsedData;\n  } catch (err) {\n    console.log(err);\n  }\n};\n"],"names":["id","useParams","dispatch","useAppDispatch","navigate","useNavigate","favoriteFlag","useAppSelector","state","favorites","map","el","includes","_useState","useState","_useState2","_slicedToArray","showMoreStatus","setShowMoreStatus","isAuth","useAuth","favoriteButtonTitle","currentPlaying","useAwesomeVideo","favoritesInfo","videoId","title","description","useEffect","_jsx","_Fragment","children","_jsxs","className","style","height","NavMenu","SideList","maxWidth","width","src","concat","frameBorder","allow","allowFullScreen","views","age","BiLike","likes","BiDislike","FaShare","HiScissors","MdOutlinePlaylistAdd","BsThreeDots","channelInfo","image","alt","name","subscribers","onClick","toggleFavorites","classNames","fontFamily","parseVideoDuration","duration","durationParts","replace","split","length","parseInt","timesVideo","date","seconds","Math","floor","Date","valueOf","interval","convertRawViews","labelValue","isSub","arguments","undefined","parsed","toFixed","_item$snippet","item","useGetVideoDetailsQuery","data","channelId","snippet","details","useGetChannelDetailsQuery","skip","useMemo","detail","channelImage","thumbnails","default","url","subscriberCount","statistics","viewCount","toLocaleString","likeCount","publishedAt","channelTitle","parseDataVideoDetails","useAwesomeSearchVideo","_searchRes$data","_searchRes$data2","_channelsDataRes$data","_contentDetails$data","ignoreSearch","searchTerm","mainApp","pageToken","nextPageToken","requestParams","searchRes","useGetSearchVideosQuery","refetchOnMountOrArgChange","items","channelsAndVideosIds","videoIds","channelIds","forEach","push","channelsData","useGetChannelsDataQuery","videoData","useGetContentDetailsQuery","prevVideos","useRef","transformSearchRes","videosData","channelsMap","channel","parsedData","index","thumbnail","medium","link","contentDetails","videoAge","err","console","log","parseData","current","_toConsumableArray"],"sourceRoot":""}